-- Create destinations table for airport locations
CREATE TABLE public.destinations (
  id UUID NOT NULL DEFAULT gen_random_uuid() PRIMARY KEY,
  name TEXT NOT NULL,
  city TEXT NOT NULL,
  state_province TEXT,
  country TEXT NOT NULL,
  airport_code TEXT NOT NULL UNIQUE,
  latitude NUMERIC NOT NULL,
  longitude NUMERIC NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT now()
);

-- Enable RLS
ALTER TABLE public.destinations ENABLE ROW LEVEL SECURITY;

-- Create policy for viewing destinations
CREATE POLICY "Destinations are viewable by authenticated users"
ON public.destinations
FOR SELECT
USING (auth.role() = 'authenticated'::text);

-- Insert 83 North American destinations with realistic coordinates
INSERT INTO public.destinations (name, city, state_province, country, airport_code, latitude, longitude) VALUES
-- United States - Major Cities
('John F. Kennedy International Airport', 'New York', 'NY', 'USA', 'JFK', 40.6413, -73.7781),
('Los Angeles International Airport', 'Los Angeles', 'CA', 'USA', 'LAX', 33.9416, -118.4085),
('O''Hare International Airport', 'Chicago', 'IL', 'USA', 'ORD', 41.9742, -87.9073),
('Dallas/Fort Worth International Airport', 'Dallas', 'TX', 'USA', 'DFW', 32.8998, -97.0403),
('Denver International Airport', 'Denver', 'CO', 'USA', 'DEN', 39.8561, -104.6737),
('San Francisco International Airport', 'San Francisco', 'CA', 'USA', 'SFO', 37.6213, -122.3790),
('Seattle-Tacoma International Airport', 'Seattle', 'WA', 'USA', 'SEA', 47.4502, -122.3088),
('McCarran International Airport', 'Las Vegas', 'NV', 'USA', 'LAS', 36.0840, -115.1537),
('Phoenix Sky Harbor International Airport', 'Phoenix', 'AZ', 'USA', 'PHX', 33.4484, -112.0740),
('George Bush Intercontinental Airport', 'Houston', 'TX', 'USA', 'IAH', 29.9902, -95.3368),
('Miami International Airport', 'Miami', 'FL', 'USA', 'MIA', 25.7959, -80.2870),
('Orlando International Airport', 'Orlando', 'FL', 'USA', 'MCO', 28.4312, -81.3081),
('Newark Liberty International Airport', 'Newark', 'NJ', 'USA', 'EWR', 40.6895, -74.1745),
('Boston Logan International Airport', 'Boston', 'MA', 'USA', 'BOS', 42.3656, -71.0096),
('Charlotte Douglas International Airport', 'Charlotte', 'NC', 'USA', 'CLT', 35.2144, -80.9473),
('Minneapolis-St Paul International Airport', 'Minneapolis', 'MN', 'USA', 'MSP', 44.8848, -93.2223),
('Detroit Metropolitan Airport', 'Detroit', 'MI', 'USA', 'DTW', 42.2162, -83.3554),
('Philadelphia International Airport', 'Philadelphia', 'PA', 'USA', 'PHL', 39.8744, -75.2424),
('LaGuardia Airport', 'New York', 'NY', 'USA', 'LGA', 40.7769, -73.8740),
('Baltimore/Washington International Airport', 'Baltimore', 'MD', 'USA', 'BWI', 39.1774, -76.6684),
('Reagan National Airport', 'Washington', 'DC', 'USA', 'DCA', 38.8521, -77.0377),
('Hartsfield-Jackson Atlanta International Airport', 'Atlanta', 'GA', 'USA', 'ATL', 33.6407, -84.4277),
('Tampa International Airport', 'Tampa', 'FL', 'USA', 'TPA', 27.9755, -82.5332),
('Salt Lake City International Airport', 'Salt Lake City', 'UT', 'USA', 'SLC', 40.7899, -111.9791),
('Portland International Airport', 'Portland', 'OR', 'USA', 'PDX', 45.5898, -122.5951),
('San Diego International Airport', 'San Diego', 'CA', 'USA', 'SAN', 32.7336, -117.1897),
('Sacramento International Airport', 'Sacramento', 'CA', 'USA', 'SMF', 38.6954, -121.5908),
('Austin-Bergstrom International Airport', 'Austin', 'TX', 'USA', 'AUS', 30.1945, -97.6699),
('San Antonio International Airport', 'San Antonio', 'TX', 'USA', 'SAT', 29.5337, -98.4698),
('Nashville International Airport', 'Nashville', 'TN', 'USA', 'BNA', 36.1263, -86.6774),
('St. Louis Lambert International Airport', 'St. Louis', 'MO', 'USA', 'STL', 38.7499, -90.3742),
('Raleigh-Durham International Airport', 'Raleigh', 'NC', 'USA', 'RDU', 35.8801, -78.7880),
('Pittsburgh International Airport', 'Pittsburgh', 'PA', 'USA', 'PIT', 40.4915, -80.2329),
('Cincinnati/Northern Kentucky International Airport', 'Cincinnati', 'OH', 'USA', 'CVG', 39.0533, -84.6630),
('Cleveland Hopkins International Airport', 'Cleveland', 'OH', 'USA', 'CLE', 41.4117, -81.8498),
('Indianapolis International Airport', 'Indianapolis', 'IN', 'USA', 'IND', 39.7173, -86.2944),
('Kansas City International Airport', 'Kansas City', 'MO', 'USA', 'MCI', 39.2976, -94.7139),
('Columbus International Airport', 'Columbus', 'OH', 'USA', 'CMH', 39.9980, -82.8919),
('Milwaukee Mitchell International Airport', 'Milwaukee', 'WI', 'USA', 'MKE', 42.9472, -87.8966),
('Memphis International Airport', 'Memphis', 'TN', 'USA', 'MEM', 35.0424, -89.9767),
('New Orleans Louis Armstrong International Airport', 'New Orleans', 'LA', 'USA', 'MSY', 29.9934, -90.2580),
('Jacksonville International Airport', 'Jacksonville', 'FL', 'USA', 'JAX', 30.4941, -81.6879),
('Louisville International Airport', 'Louisville', 'KY', 'USA', 'SDF', 38.1744, -85.7364),
('Albuquerque International Sunport', 'Albuquerque', 'NM', 'USA', 'ABQ', 35.0402, -106.6092),
('Tucson International Airport', 'Tucson', 'AZ', 'USA', 'TUS', 32.1161, -110.9410),
('El Paso International Airport', 'El Paso', 'TX', 'USA', 'ELP', 31.8072, -106.3777),
('Oklahoma City Will Rogers World Airport', 'Oklahoma City', 'OK', 'USA', 'OKC', 35.3931, -97.6007),
('Omaha Eppley Airfield', 'Omaha', 'NE', 'USA', 'OMA', 41.3032, -95.8941),
('Buffalo Niagara International Airport', 'Buffalo', 'NY', 'USA', 'BUF', 42.9405, -78.7322),
('Hartford Bradley International Airport', 'Hartford', 'CT', 'USA', 'BDL', 41.9389, -72.6832),
('Providence T.F. Green Airport', 'Providence', 'RI', 'USA', 'PVD', 41.7240, -71.4281),
('Richmond International Airport', 'Richmond', 'VA', 'USA', 'RIC', 37.5052, -77.3197),
('Norfolk International Airport', 'Norfolk', 'VA', 'USA', 'ORF', 36.8946, -76.2012),
('Reno-Tahoe International Airport', 'Reno', 'NV', 'USA', 'RNO', 39.4991, -119.7681),
('Boise Airport', 'Boise', 'ID', 'USA', 'BOI', 43.5644, -116.2228),
('Spokane International Airport', 'Spokane', 'WA', 'USA', 'GEG', 47.6199, -117.5339),
('Anchorage Ted Stevens International Airport', 'Anchorage', 'AK', 'USA', 'ANC', 61.1743, -149.9962),
('Honolulu Daniel K. Inouye International Airport', 'Honolulu', 'HI', 'USA', 'HNL', 21.3187, -157.9225),
('Des Moines International Airport', 'Des Moines', 'IA', 'USA', 'DSM', 41.5340, -93.6631),
('Wichita Dwight D. Eisenhower National Airport', 'Wichita', 'KS', 'USA', 'ICT', 37.6499, -97.4331),
('Little Rock Clinton National Airport', 'Little Rock', 'AR', 'USA', 'LIT', 34.7294, -92.2243),
('Tulsa International Airport', 'Tulsa', 'OK', 'USA', 'TUL', 36.1984, -95.8881),
('Birmingham-Shuttlesworth International Airport', 'Birmingham', 'AL', 'USA', 'BHM', 33.5629, -86.7535),
('Fort Myers Southwest Florida International Airport', 'Fort Myers', 'FL', 'USA', 'RSW', 26.5362, -81.7552),
('Sarasota-Bradenton International Airport', 'Sarasota', 'FL', 'USA', 'SRQ', 27.3954, -82.5544),
('Daytona Beach International Airport', 'Daytona Beach', 'FL', 'USA', 'DAB', 29.1799, -81.0581),
-- Canada - Major Cities
('Toronto Pearson International Airport', 'Toronto', 'ON', 'Canada', 'YYZ', 43.6777, -79.6248),
('Vancouver International Airport', 'Vancouver', 'BC', 'Canada', 'YVR', 49.1967, -123.1815),
('Montreal Pierre Elliott Trudeau International Airport', 'Montreal', 'QC', 'Canada', 'YUL', 45.4657, -73.7448),
('Calgary International Airport', 'Calgary', 'AB', 'Canada', 'YYC', 51.1315, -114.0106),
('Edmonton International Airport', 'Edmonton', 'AB', 'Canada', 'YEG', 53.3097, -113.5800),
('Ottawa Macdonald-Cartier International Airport', 'Ottawa', 'ON', 'Canada', 'YOW', 45.3225, -75.6692),
('Winnipeg James Armstrong Richardson International Airport', 'Winnipeg', 'MB', 'Canada', 'YWG', 49.9100, -97.2399),
('Quebec City Jean Lesage International Airport', 'Quebec City', 'QC', 'Canada', 'YQB', 46.7911, -71.3933),
('Halifax Stanfield International Airport', 'Halifax', 'NS', 'Canada', 'YHZ', 44.8808, -63.5086),
('Victoria International Airport', 'Victoria', 'BC', 'Canada', 'YYJ', 48.6469, -123.4258),
('Saskatoon John G. Diefenbaker International Airport', 'Saskatoon', 'SK', 'Canada', 'YXE', 52.1708, -106.6997),
('Regina International Airport', 'Regina', 'SK', 'Canada', 'YQR', 50.4319, -104.6659),
-- Mexico - Major Cities
('Mexico City International Airport', 'Mexico City', 'CDMX', 'Mexico', 'MEX', 19.4363, -99.0721),
('Cancun International Airport', 'Cancun', 'QR', 'Mexico', 'CUN', 21.0365, -86.8771),
('Guadalajara International Airport', 'Guadalajara', 'JAL', 'Mexico', 'GDL', 20.5218, -103.3106),
('Monterrey International Airport', 'Monterrey', 'NL', 'Mexico', 'MTY', 25.7785, -100.1069),
('Los Cabos International Airport', 'Los Cabos', 'BCS', 'Mexico', 'SJD', 23.1518, -109.7211);
